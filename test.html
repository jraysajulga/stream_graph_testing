<!DOCTYPE html>
<meta charset="utf-8">
<style>

body {
  font: 10px sans-serif;
}

.chart { 
  background: #fff;
  max-width: 100px;
  height: 1000px;
}

p {
  font: 12px helvetica;
}

svg {
  width: 100%;
  height: 100%;
}


.axis path, .axis line {
  fill: none;
  stroke: #000;
  stroke-width: 2px;
  shape-rendering: crispEdges;
}

button {
  position: absolute;
  right: 50px;
  top: 10px;
}

</style>
<body>
<script src="http://d3js.org/d3.v2.js"></script>


<div class="chart">
</div>

<script>

chart("https://raw.githubusercontent.com/jraysajulga/stream_graph_testing/master/data.csv", "orange");

var datearray = [];
var colorrange = [];


function chart(csvpath, color) {

if (color == "blue") {
  colorrange = ["#045A8D", "#2B8CBE", "#74A9CF", "#A6BDDB", "#D0D1E6", "#F1EEF6"];
}
else if (color == "pink") {
  colorrange = ["#980043", "#DD1C77", "#DF65B0", "#C994C7", "#D4B9DA", "#F1EEF6"];
}
else if (color == "orange") {
  colorrange = ["#B30000", "#E34A33", "#FC8D59", "#FDBB84", "#FDD49E", "#FEF0D9"];
}
strokecolor = colorrange[0];

var format = d3.time.format("%m/%d/%y");

var margin = {top: 20, right: 40, bottom: 30, left: 30};
var width = document.body.clientWidth - margin.left - margin.right;
var height = 400 - margin.top - margin.bottom;

var tooltip = d3.select("body")
    .append("div")
    .attr("class", "remove")
    .style("position", "absolute")
    .style("z-index", "20")
    .style("visibility", "hidden")
    .style("top", "30px")
    .style("left", "55px");

var x = d3.time.scale()
    .range([0, width]);

var y = d3.scale.linear()
    .range([height-10, 0]);

var z = d3.scale.ordinal()
    .range(colorrange);

var xAxis = d3.svg.axis()
    .scale(x)
    .orient("bottom")
    .ticks(d3.time.weeks);

var yAxis = d3.svg.axis()
    .scale(y);

var yAxisr = d3.svg.axis()
    .scale(y);

var stack = d3.layout.stack()
    .offset("silhouette")
    .values(function(d) { return d.values; })
    .x(function(d) { return d.date; })
    .y(function(d) { return d.value; });

var nest = d3.nest()
    .key(function(d) { return d.key; });

var area = d3.svg.area()
    .interpolate("cardinal")
    .x(function(d) { return x(d.date); })
    .y0(function(d) { return y(d.y0); })
    .y1(function(d) { return y(d.y0 + d.y); });

var svg = d3.select(".chart").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

var graph = d3.csv(csvpath, function(data) {
  var data = [{"key" : "tRNA binding",  "value" : "21.710377422895426", "date" : "01/08/13"},
{"key" : "tRNA binding",  "value" : "23.995750153580012", "date" : "01/09/13"},
{"key" : "succinate dehydrogenase activity",  "value" : "23.35189784661736", "date" : "01/08/13"},
{"key" : "succinate dehydrogenase activity",  "value" : "24.952957880526125", "date" : "01/09/13"},
{"key" : "magnesium ion binding", "value" : "22.268734122166858", "date" : "01/08/13"},
{"key" : "magnesium ion binding", "value" : "24.599483588724127", "date" : "01/09/13"},
{"key" : "magnesium ion binding", "value" : "20.762430539523645", "date" : "01/08/13"},
{"key" : "magnesium ion binding", "value" : "21.994403038677525", "date" : "01/09/13"},
{"key" : "magnesium ion binding", "value" : "19.943200151487023", "date" : "01/08/13"},
{"key" : "magnesium ion binding", "value" : "19.700559885942088", "date" : "01/09/13"},
{"key" : "septin ring assembly",  "value" : "18.02699150836616", "date" : "01/08/13"},
{"key" : "septin ring assembly",  "value" : "21.073767997126073", "date" : "01/09/13"},
{"key" : "nucleic acid binding",  "value" : "21.4352954819857", "date" : "01/08/13"},
{"key" : "nucleic acid binding",  "value" : "23.83540827811173", "date" : "01/09/13"},
{"key" : "DNA binding", "value" : "21.93766782544598", "date" : "01/08/13"},
{"key" : "DNA binding", "value" : "23.591590367476677", "date" : "01/09/13"},
{"key" : "DNA binding", "value" : "21.49715453919611", "date" : "01/08/13"},
{"key" : "DNA binding", "value" : "23.39409892466157", "date" : "01/09/13"},
{"key" : "DNA binding", "value" : "19.905952685907668", "date" : "01/08/13"},
{"key" : "DNA binding", "value" : "17.548276524652536", "date" : "01/09/13"},
{"key" : "DNA-binding transcription factor activity", "value" : "19.07628886577101", "date" : "01/08/13"},
{"key" : "DNA-binding transcription factor activity", "value" : "20.182129879278406", "date" : "01/09/13"},
{"key" : "DNA-binding transcription factor activity", "value" : "18.133265516148494", "date" : "01/08/13"},
{"key" : "DNA-binding transcription factor activity", "value" : "20.08373949322156", "date" : "01/09/13"},
{"key" : "RNA binding", "value" : "16.847951044497474", "date" : "01/08/13"},
{"key" : "RNA binding", "value" : "20.457060723187574", "date" : "01/09/13"},
{"key" : "structural constituent of ribosome",  "value" : "23.517956719853462", "date" : "01/08/13"},
{"key" : "structural constituent of ribosome",  "value" : "24.94771527122097", "date" : "01/09/13"},
{"key" : "structural constituent of ribosome",  "value" : "23.77167563460333", "date" : "01/08/13"},
{"key" : "structural constituent of ribosome",  "value" : "25.68917734253975", "date" : "01/09/13"},
{"key" : "structural constituent of ribosome",  "value" : "22.137948567005328", "date" : "01/08/13"},
{"key" : "structural constituent of ribosome",  "value" : "21.55608332482239", "date" : "01/09/13"},
{"key" : "translation elongation factor activity",  "value" : "21.688344257826486", "date" : "01/08/13"},
{"key" : "translation elongation factor activity",  "value" : "22.73887950350277", "date" : "01/09/13"},
{"key" : "translation elongation factor activity",  "value" : "23.044278259080397", "date" : "01/08/13"},
{"key" : "translation elongation factor activity",  "value" : "24.480820963106602", "date" : "01/09/13"},
{"key" : "peptidyl-prolyl cis-trans isomerase activity",  "value" : "21.233316166144792", "date" : "01/08/13"},
{"key" : "peptidyl-prolyl cis-trans isomerase activity",  "value" : "23.925915273343037", "date" : "01/09/13"},
{"key" : "peptidyl-prolyl cis-trans isomerase activity",  "value" : "21.103467479883054", "date" : "01/08/13"},
{"key" : "peptidyl-prolyl cis-trans isomerase activity",  "value" : "22.683591876502827", "date" : "01/09/13"},
{"key" : "DNA-directed DNA polymerase activity",  "value" : "18.643136931429066", "date" : "01/08/13"},
{"key" : "DNA-directed DNA polymerase activity",  "value" : "19.52583148949027", "date" : "01/09/13"},
{"key" : "DNA-directed 5'-3' RNA polymerase activity",  "value" : "20.05429848839854", "date" : "01/08/13"},
{"key" : "DNA-directed 5'-3' RNA polymerase activity",  "value" : "21.89108991377771", "date" : "01/09/13"},
{"key" : "DNA-directed 5'-3' RNA polymerase activity",  "value" : "21.109848882027528", "date" : "01/08/13"},
{"key" : "DNA-directed 5'-3' RNA polymerase activity",  "value" : "23.126532001389204", "date" : "01/09/13"},
{"key" : "GTPase activity", "value" : "22.741254099172306", "date" : "01/08/13"},
{"key" : "GTPase activity", "value" : "24.366459980175843", "date" : "01/09/13"},
{"key" : "NADH dehydrogenase activity", "value" : "20.341850141830033", "date" : "01/08/13"},
{"key" : "NADH dehydrogenase activity", "value" : "18.845174114532824", "date" : "01/09/13"},
{"key" : "acetyl-CoA hydrolase activity", "value" : "22.77159438609418", "date" : "01/08/13"},
{"key" : "acetyl-CoA hydrolase activity", "value" : "23.784603617818888", "date" : "01/09/13"},
{"key" : "aminopeptidase activity", "value" : "17.478103659517018", "date" : "01/08/13"},
{"key" : "aminopeptidase activity", "value" : "21.707094450367556", "date" : "01/09/13"},
{"key" : "metalloendopeptidase activity", "value" : "17.09742398309943", "date" : "01/08/13"},
{"key" : "metalloendopeptidase activity", "value" : "19.25779122275992", "date" : "01/09/13"},
{"key" : "fructose-bisphosphate aldolase activity", "value" : "22.302648992205683", "date" : "01/08/13"},
{"key" : "fructose-bisphosphate aldolase activity", "value" : "25.186702131896816", "date" : "01/09/13"},
{"key" : "fumarate hydratase activity", "value" : "24.060677556374987", "date" : "01/08/13"},
{"key" : "fumarate hydratase activity", "value" : "25.387103503996073", "date" : "01/09/13"},
{"key" : "glycerone kinase activity", "value" : "19.218260321112343", "date" : "01/08/13"},
{"key" : "glycerone kinase activity", "value" : "21.415327294417104", "date" : "01/09/13"},
{"key" : "helicase activity", "value" : "17.88240884572788", "date" : "01/08/13"},
{"key" : "helicase activity", "value" : "20.96164545586843", "date" : "01/09/13"},
{"key" : "nucleoside diphosphate kinase activity",  "value" : "20.476839421808673", "date" : "01/08/13"},
{"key" : "nucleoside diphosphate kinase activity",  "value" : "21.6239325979447", "date" : "01/09/13"},
{"key" : "ornithine carbamoyltransferase activity", "value" : "23.813314199334908", "date" : "01/08/13"},
{"key" : "ornithine carbamoyltransferase activity", "value" : "24.42214971741709", "date" : "01/09/13"},
{"key" : "protein serine/threonine kinase activity",  "value" : "18.75217081188508", "date" : "01/08/13"},
{"key" : "protein serine/threonine kinase activity",  "value" : "20.40926574416994", "date" : "01/09/13"},
{"key" : "serine-tRNA ligase activity", "value" : "18.75030723155071", "date" : "01/08/13"},
{"key" : "serine-tRNA ligase activity", "value" : "20.050963809619844", "date" : "01/09/13"},
{"key" : "iron ion binding",  "value" : "20.5265804363059", "date" : "01/08/13"},
{"key" : "iron ion binding",  "value" : "25.085057375340828", "date" : "01/09/13"},
{"key" : "ATP binding", "value" : "22.89358386652984", "date" : "01/08/13"},
{"key" : "ATP binding", "value" : "26.171754650579217", "date" : "01/09/13"},
{"key" : "ATP binding", "value" : "23.890763088130583", "date" : "01/08/13"},
{"key" : "ATP binding", "value" : "25.73763608084753", "date" : "01/09/13"},
{"key" : "ATP binding", "value" : "19.398322722513218", "date" : "01/08/13"},
{"key" : "ATP binding", "value" : "19.09153407178596", "date" : "01/09/13"},
{"key" : "GTP binding", "value" : "21.694889795638762", "date" : "01/08/13"},
{"key" : "GTP binding", "value" : "22.811054300939627", "date" : "01/09/13"},
{"key" : "GTP binding", "value" : "22.850214276039853", "date" : "01/08/13"},
{"key" : "GTP binding", "value" : "24.379553411155072", "date" : "01/09/13"},
{"key" : "intracellular", "value" : "21.765805428605237", "date" : "01/08/13"},
{"key" : "intracellular", "value" : "22.810019682884732", "date" : "01/09/13"},
{"key" : "cell",  "value" : "19.18951769695088", "date" : "01/08/13"},
{"key" : "cell",  "value" : "23.47451475859426", "date" : "01/09/13"},
{"key" : "cell",  "value" : "21.52493402864501", "date" : "01/08/13"},
{"key" : "cell",  "value" : "22.730767981071146", "date" : "01/09/13"},
{"key" : "cell",  "value" : "20.341850141830033", "date" : "01/08/13"},
{"key" : "cell",  "value" : "18.845174114532824", "date" : "01/09/13"},
{"key" : "cytoplasm", "value" : "26.977329383751158", "date" : "01/08/13"},
{"key" : "cytoplasm", "value" : "23.81739147378527", "date" : "01/09/13"},
{"key" : "cytoplasm", "value" : "25.896390265422173", "date" : "01/08/13"},
{"key" : "cytoplasm", "value" : "27.162453772878088", "date" : "01/09/13"},
{"key" : "cytoplasm", "value" : "24.59382257536691", "date" : "01/08/13"},
{"key" : "cytoplasm", "value" : "26.33145284109564", "date" : "01/09/13"},
{"key" : "cytoplasm", "value" : "21.183511868926253", "date" : "01/08/13"},
{"key" : "cytoplasm", "value" : "20.88104832882514", "date" : "01/09/13"},
{"key" : "cytosol", "value" : "25.632296505566483", "date" : "01/08/13"},
{"key" : "cytosol", "value" : "21.695392926448644", "date" : "01/09/13"},
{"key" : "cytosol", "value" : "20.499696397412567", "date" : "01/08/13"},
{"key" : "cytosol", "value" : "19.55647548523898", "date" : "01/09/13"},
{"key" : "ribosome",  "value" : "23.386875000670443", "date" : "01/08/13"},
{"key" : "ribosome",  "value" : "24.806526649182995", "date" : "01/09/13"},
{"key" : "ribosome",  "value" : "23.93977246594368", "date" : "01/08/13"},
{"key" : "ribosome",  "value" : "25.930122713519104", "date" : "01/09/13"},
{"key" : "ribosome",  "value" : "22.05596961175768", "date" : "01/08/13"},
{"key" : "ribosome",  "value" : "21.508378911201405", "date" : "01/09/13"},
{"key" : "plasma membrane", "value" : "23.783229397741113", "date" : "01/08/13"},
{"key" : "plasma membrane", "value" : "20.091281933358708", "date" : "01/09/13"},
{"key" : "plasma membrane", "value" : "21.95185822099754", "date" : "01/08/13"},
{"key" : "plasma membrane", "value" : "24.477866755972013", "date" : "01/09/13"},
{"key" : "plasma membrane", "value" : "17.056120151882702", "date" : "01/08/13"},
{"key" : "plasma membrane", "value" : "19.340452598966067", "date" : "01/09/13"},
{"key" : "septin ring", "value" : "18.02699150836616", "date" : "01/08/13"},
{"key" : "septin ring", "value" : "21.073767997126073", "date" : "01/09/13"},
{"key" : "carbohydrate metabolic process",  "value" : "21.39521804642432", "date" : "01/08/13"},
{"key" : "carbohydrate metabolic process",  "value" : "19.077714449198645", "date" : "01/09/13"},
{"key" : "carbohydrate metabolic process",  "value" : "21.34660228132575", "date" : "01/08/13"},
{"key" : "carbohydrate metabolic process",  "value" : "24.02976319105059", "date" : "01/09/13"},
{"key" : "carbohydrate metabolic process",  "value" : "18.488135823918398", "date" : "01/08/13"},
{"key" : "carbohydrate metabolic process",  "value" : "20.041611260941853", "date" : "01/09/13"},
{"key" : "carbohydrate metabolic process",  "value" : "18.79636800328341", "date" : "01/08/13"},
{"key" : "carbohydrate metabolic process",  "value" : "18.356842504225604", "date" : "01/09/13"},
{"key" : "glycerol metabolic process",  "value" : "19.218260321112343", "date" : "01/08/13"},
{"key" : "glycerol metabolic process",  "value" : "21.415327294417104", "date" : "01/09/13"},
{"key" : "acetyl-CoA metabolic process",  "value" : "22.77159438609418", "date" : "01/08/13"},
{"key" : "acetyl-CoA metabolic process",  "value" : "23.784603617818888", "date" : "01/09/13"},
{"key" : "pyruvate metabolic process",  "value" : "19.565962601137052", "date" : "01/08/13"},
{"key" : "pyruvate metabolic process",  "value" : "22.066892464466733", "date" : "01/09/13"},
{"key" : "pyruvate metabolic process",  "value" : "20.056837792498406", "date" : "01/08/13"},
{"key" : "pyruvate metabolic process",  "value" : "22.5070916117075", "date" : "01/09/13"},
{"key" : "gluconeogenesis", "value" : "20.056837792498406", "date" : "01/08/13"},
{"key" : "gluconeogenesis", "value" : "22.5070916117075", "date" : "01/09/13"},
{"key" : "glycolytic process",  "value" : "22.34377063471157", "date" : "01/08/13"},
{"key" : "glycolytic process",  "value" : "25.437153087920073", "date" : "01/09/13"},
{"key" : "glycolytic process",  "value" : "18.663560395649156", "date" : "01/08/13"},
{"key" : "glycolytic process",  "value" : "19.21659704687813", "date" : "01/09/13"},
{"key" : "GTP biosynthetic process",  "value" : "20.476839421808673", "date" : "01/08/13"},
{"key" : "GTP biosynthetic process",  "value" : "21.6239325979447", "date" : "01/09/13"},
{"key" : "UTP biosynthetic process",  "value" : "20.476839421808673", "date" : "01/08/13"},
{"key" : "UTP biosynthetic process",  "value" : "21.6239325979447", "date" : "01/09/13"},
{"key" : "CTP biosynthetic process",  "value" : "20.476839421808673", "date" : "01/08/13"},
{"key" : "CTP biosynthetic process",  "value" : "21.6239325979447", "date" : "01/09/13"},
{"key" : "DNA replication", "value" : "18.91727856475309", "date" : "01/08/13"},
{"key" : "DNA replication", "value" : "20.148993382906472", "date" : "01/09/13"},
{"key" : "transcription, DNA-templated",  "value" : "21.33693930389726", "date" : "01/08/13"},
{"key" : "transcription, DNA-templated",  "value" : "22.626819680407976", "date" : "01/09/13"},
{"key" : "transcription, DNA-templated",  "value" : "21.28239458021228", "date" : "01/08/13"},
{"key" : "transcription, DNA-templated",  "value" : "23.29176448055993", "date" : "01/09/13"},
{"key" : "transcription, DNA-templated",  "value" : "19.905952685907668", "date" : "01/08/13"},
{"key" : "transcription, DNA-templated",  "value" : "17.548276524652536", "date" : "01/09/13"},
{"key" : "translation", "value" : "23.541162365246958", "date" : "01/08/13"},
{"key" : "translation", "value" : "25.01281882023877", "date" : "01/09/13"},
{"key" : "translation", "value" : "23.896496881428885", "date" : "01/08/13"},
{"key" : "translation", "value" : "25.897002023087826", "date" : "01/09/13"},
{"key" : "translation", "value" : "22.137948567005328", "date" : "01/08/13"},
{"key" : "translation", "value" : "21.55608332482239", "date" : "01/09/13"},
{"key" : "seryl-tRNA aminoacylation", "value" : "18.75030723155071", "date" : "01/08/13"},
{"key" : "seryl-tRNA aminoacylation", "value" : "20.050963809619844", "date" : "01/09/13"},
{"key" : "protein folding", "value" : "22.398385688389293", "date" : "01/08/13"},
{"key" : "protein folding", "value" : "25.96548910983168", "date" : "01/09/13"},
{"key" : "protein folding", "value" : "23.009637457336922", "date" : "01/08/13"},
{"key" : "protein folding", "value" : "24.57480865020409", "date" : "01/09/13"},
{"key" : "protein dephosphorylation", "value" : "18.75217081188508", "date" : "01/08/13"},
{"key" : "protein dephosphorylation", "value" : "20.40926574416994", "date" : "01/09/13"},
{"key" : "peptide metabolic process", "value" : "17.80553171319834", "date" : "01/08/13"},
{"key" : "peptide metabolic process", "value" : "20.46941056221171", "date" : "01/09/13"},
{"key" : "cellular amino acid metabolic process", "value" : "19.58327614780437", "date" : "01/08/13"},
{"key" : "cellular amino acid metabolic process", "value" : "21.71839797818939", "date" : "01/09/13"},
{"key" : "arginine metabolic process",  "value" : "20.909818525311454", "date" : "01/08/13"},
{"key" : "arginine metabolic process",  "value" : "20.448245638568444", "date" : "01/09/13"},
{"key" : "glutamine metabolic process", "value" : "19.082854529933353", "date" : "01/08/13"},
{"key" : "glutamine metabolic process", "value" : "19.905183595977785", "date" : "01/09/13"},
{"key" : "protein targeting", "value" : "17.88240884572788", "date" : "01/08/13"},
{"key" : "protein targeting", "value" : "20.96164545586843", "date" : "01/09/13"},
{"key" : "glycerophospholipid metabolic process", "value" : "17.05290987364265", "date" : "01/08/13"},
{"key" : "glycerophospholipid metabolic process", "value" : "19.237111831698392", "date" : "01/09/13"},
{"key" : "cell cycle",  "value" : "20.726160503523726", "date" : "01/08/13"},
{"key" : "cell cycle",  "value" : "23.125452145886587", "date" : "01/09/13"},
{"key" : "cell cycle",  "value" : "21.300918874651625", "date" : "01/08/13"},
{"key" : "cell cycle",  "value" : "22.901298720369248", "date" : "01/09/13"},
{"key" : "cell cycle",  "value" : "20.831340766795684", "date" : "01/08/13"},
{"key" : "cell cycle",  "value" : "18.881664367150822", "date" : "01/09/13"},
{"key" : "metabolic process", "value" : "19.381849520831803", "date" : "01/08/13"},
{"key" : "metabolic process", "value" : "21.78205288056496", "date" : "01/09/13"},
{"key" : "peptidase activity",  "value" : "20.296936252416813", "date" : "01/08/13"},
{"key" : "peptidase activity",  "value" : "23.738753676990427", "date" : "01/09/13"},
{"key" : "peptidase activity",  "value" : "18.787525429327346", "date" : "01/08/13"},
{"key" : "peptidase activity",  "value" : "21.820856590285636", "date" : "01/09/13"},
{"key" : "metallopeptidase activity", "value" : "21.65689844168766", "date" : "01/08/13"},
{"key" : "metallopeptidase activity", "value" : "21.72366812959444", "date" : "01/09/13"},
{"key" : "zinc ion binding",  "value" : "22.84645901552767", "date" : "01/08/13"},
{"key" : "zinc ion binding",  "value" : "25.41780921648767", "date" : "01/09/13"},
{"key" : "zinc ion binding",  "value" : "18.720662542939685", "date" : "01/08/13"},
{"key" : "zinc ion binding",  "value" : "21.017812035544072", "date" : "01/09/13"},
{"key" : "3'-5' exonuclease activity",  "value" : "18.643136931429066", "date" : "01/08/13"},
{"key" : "3'-5' exonuclease activity",  "value" : "19.52583148949027", "date" : "01/09/13"},
{"key" : "transaminase activity", "value" : "20.50259453918792", "date" : "01/08/13"},
{"key" : "transaminase activity", "value" : "21.848191794465603", "date" : "01/09/13"},
{"key" : "phospholipid biosynthetic process", "value" : "17.05290987364265", "date" : "01/08/13"},
{"key" : "phospholipid biosynthetic process", "value" : "19.237111831698392", "date" : "01/09/13"},
{"key" : "L(+)-tartrate dehydratase activity",  "value" : "24.06607766752104", "date" : "01/08/13"},
{"key" : "L(+)-tartrate dehydratase activity",  "value" : "25.401225708430108", "date" : "01/09/13"},
{"key" : "acetylornithine deacetylase activity",  "value" : "21.55331379461579", "date" : "01/08/13"},
{"key" : "acetylornithine deacetylase activity",  "value" : "20.93975852786698", "date" : "01/09/13"},
{"key" : "carbamate kinase activity", "value" : "20.909818525311454", "date" : "01/08/13"},
{"key" : "carbamate kinase activity", "value" : "20.448245638568444", "date" : "01/09/13"},
{"key" : "electron transfer activity",  "value" : "19.18951769695088", "date" : "01/08/13"},
{"key" : "electron transfer activity",  "value" : "23.47451475859426", "date" : "01/09/13"},
{"key" : "electron transfer activity",  "value" : "19.71145352126421", "date" : "01/08/13"},
{"key" : "electron transfer activity",  "value" : "21.19459782605356", "date" : "01/09/13"},
{"key" : "aromatic amino acid family biosynthetic process", "value" : "16.812461214495798", "date" : "01/08/13"},
{"key" : "aromatic amino acid family biosynthetic process", "value" : "20.040644436822287", "date" : "01/09/13"},
{"key" : "isoleucine biosynthetic process", "value" : "19.18161319175593", "date" : "01/08/13"},
{"key" : "isoleucine biosynthetic process", "value" : "20.196764529590173", "date" : "01/09/13"},
{"key" : "cobalamin biosynthetic process",  "value" : "20.385700577730788", "date" : "01/08/13"},
{"key" : "cobalamin biosynthetic process",  "value" : "21.54165865444552", "date" : "01/09/13"},
{"key" : "lipid A biosynthetic process",  "value" : "24.725996046563683", "date" : "01/08/13"},
{"key" : "lipid A biosynthetic process",  "value" : "20.953041056699647", "date" : "01/09/13"},
{"key" : "cell outer membrane", "value" : "20.90178522818121", "date" : "01/08/13"},
{"key" : "cell outer membrane", "value" : "21.640153856788704", "date" : "01/09/13"},
{"key" : "glycerol-3-phosphate dehydrogenase complex",  "value" : "17.05290987364265", "date" : "01/08/13"},
{"key" : "glycerol-3-phosphate dehydrogenase complex",  "value" : "19.237111831698392", "date" : "01/09/13"},
{"key" : "DNA polymerase III complex",  "value" : "18.643136931429066", "date" : "01/08/13"},
{"key" : "DNA polymerase III complex",  "value" : "19.52583148949027", "date" : "01/09/13"},
{"key" : "phosphoenolpyruvate-dependent sugar phosphotransferase system", "value" : "19.609288703214613", "date" : "01/08/13"},
{"key" : "phosphoenolpyruvate-dependent sugar phosphotransferase system", "value" : "20.73651434312051", "date" : "01/09/13"},
{"key" : "pathogenesis",  "value" : "22.10742693665652", "date" : "01/08/13"},
{"key" : "pathogenesis",  "value" : "21.598579124195062", "date" : "01/09/13"},
{"key" : "chorismate biosynthetic process", "value" : "16.812461214495798", "date" : "01/08/13"},
{"key" : "chorismate biosynthetic process", "value" : "20.040644436822287", "date" : "01/09/13"},
{"key" : "carbohydrate transmembrane transporter activity", "value" : "21.07403983710695", "date" : "01/08/13"},
{"key" : "carbohydrate transmembrane transporter activity", "value" : "21.85282773682408", "date" : "01/09/13"},
{"key" : "efflux transmembrane transporter activity", "value" : "19.5798176632394", "date" : "01/08/13"},
{"key" : "efflux transmembrane transporter activity", "value" : "22.28863734471553", "date" : "01/09/13"},
{"key" : "small ribosomal subunit", "value" : "19.923285477966605", "date" : "01/08/13"},
{"key" : "small ribosomal subunit", "value" : "21.162689979852434", "date" : "01/09/13"},
{"key" : "small ribosomal subunit", "value" : "21.311756945299386", "date" : "01/08/13"},
{"key" : "small ribosomal subunit", "value" : "23.183505894373607", "date" : "01/09/13"},
{"key" : "ATP synthesis coupled proton transport",  "value" : "18.456700389146253", "date" : "01/08/13"},
{"key" : "ATP synthesis coupled proton transport",  "value" : "22.101640215302282", "date" : "01/09/13"},
{"key" : "membrane",  "value" : "20.951260192791928", "date" : "01/08/13"},
{"key" : "membrane",  "value" : "19.247330828072133", "date" : "01/09/13"},
{"key" : "integral component of membrane",  "value" : "24.08291693163235", "date" : "01/08/13"},
{"key" : "integral component of membrane",  "value" : "20.3031318975912", "date" : "01/09/13"},
{"key" : "integral component of membrane",  "value" : "21.53020991466003", "date" : "01/08/13"},
{"key" : "integral component of membrane",  "value" : "23.671556086531034", "date" : "01/09/13"},
{"key" : "integral component of membrane",  "value" : "21.988864081860385", "date" : "01/08/13"},
{"key" : "integral component of membrane",  "value" : "23.185981366388287", "date" : "01/09/13"},
{"key" : "terpenoid biosynthetic process",  "value" : "21.406611715587946", "date" : "01/08/13"},
{"key" : "terpenoid biosynthetic process",  "value" : "23.727898233086357", "date" : "01/09/13"},
{"key" : "mercury (II) reductase activity", "value" : "19.18951769695088", "date" : "01/08/13"},
{"key" : "mercury (II) reductase activity", "value" : "23.47451475859426", "date" : "01/09/13"},
{"key" : "urocanate hydratase activity",  "value" : "21.532511699131714", "date" : "01/08/13"},
{"key" : "urocanate hydratase activity",  "value" : "23.73267550887939", "date" : "01/09/13"},
{"key" : "selenocysteine biosynthetic process", "value" : "18.75030723155071", "date" : "01/08/13"},
{"key" : "selenocysteine biosynthetic process", "value" : "20.050963809619844", "date" : "01/09/13"},
{"key" : "kinase activity", "value" : "19.565962601137052", "date" : "01/08/13"},
{"key" : "kinase activity", "value" : "22.066892464466733", "date" : "01/09/13"},
{"key" : "amino acid binding",  "value" : "23.813314199334908", "date" : "01/08/13"},
{"key" : "amino acid binding",  "value" : "24.42214971741709", "date" : "01/09/13"},
{"key" : "transferase activity",  "value" : "23.644748994429268", "date" : "01/08/13"},
{"key" : "transferase activity",  "value" : "25.157408115395345", "date" : "01/09/13"},
{"key" : "phosphotransferase activity, phosphate group as acceptor",  "value" : "18.75217081188508", "date" : "01/08/13"},
{"key" : "phosphotransferase activity, phosphate group as acceptor",  "value" : "20.40926574416994", "date" : "01/09/13"},
{"key" : "dipeptidase activity",  "value" : "21.02471130906101", "date" : "01/08/13"},
{"key" : "dipeptidase activity",  "value" : "21.521869329064735", "date" : "01/09/13"},
{"key" : "ATPase activity", "value" : "18.491992862821878", "date" : "01/08/13"},
{"key" : "ATPase activity", "value" : "20.98617101401541", "date" : "01/09/13"},
{"key" : "oxidoreductase activity, acting on the aldehyde or oxo group of donors",  "value" : "20.43700134043665", "date" : "01/08/13"},
{"key" : "oxidoreductase activity, acting on the aldehyde or oxo group of donors",  "value" : "25.069315910217533", "date" : "01/09/13"},
{"key" : "arginine deiminase activity", "value" : "24.979599578246933", "date" : "01/08/13"},
{"key" : "arginine deiminase activity", "value" : "24.709055912730225", "date" : "01/09/13"},
{"key" : "protein import",  "value" : "17.88240884572788", "date" : "01/08/13"},
{"key" : "protein import",  "value" : "20.96164545586843", "date" : "01/09/13"},
{"key" : "isopentenyl diphosphate biosynthetic process, methylerythritol 4-phosphate pathway",  "value" : "21.406611715587946", "date" : "01/08/13"},
{"key" : "isopentenyl diphosphate biosynthetic process, methylerythritol 4-phosphate pathway",  "value" : "23.727898233086357", "date" : "01/09/13"},
{"key" : "arginine deiminase pathway",  "value" : "21.926075426010613", "date" : "01/08/13"},
{"key" : "arginine deiminase pathway",  "value" : "23.04902719542662", "date" : "01/09/13"},
{"key" : "arginine catabolic process to ornithine", "value" : "25.51123515708379", "date" : "01/08/13"},
{"key" : "arginine catabolic process to ornithine", "value" : "25.572723158902363", "date" : "01/09/13"},
{"key" : "histidine catabolic process to glutamate and formamide",  "value" : "21.86695521851703", "date" : "01/08/13"},
{"key" : "histidine catabolic process to glutamate and formamide",  "value" : "24.03586480466456", "date" : "01/09/13"},
{"key" : "histidine catabolic process to glutamate and formate",  "value" : "21.86695521851703", "date" : "01/08/13"},
{"key" : "histidine catabolic process to glutamate and formate",  "value" : "24.03586480466456", "date" : "01/09/13"},
{"key" : "rRNA binding",  "value" : "21.751148241200344", "date" : "01/08/13"},
{"key" : "rRNA binding",  "value" : "24.27657578214365", "date" : "01/09/13"},
{"key" : "rRNA binding",  "value" : "22.256044089484124", "date" : "01/08/13"},
{"key" : "rRNA binding",  "value" : "24.87005665934557", "date" : "01/09/13"},
{"key" : "rRNA binding",  "value" : "21.66516574448326", "date" : "01/08/13"},
{"key" : "rRNA binding",  "value" : "21.30287659987484", "date" : "01/09/13"},
{"key" : "outer membrane",  "value" : "22.130717695183353", "date" : "01/08/13"},
{"key" : "outer membrane",  "value" : "21.684386782832366", "date" : "01/09/13"},
{"key" : "electron transport chain",  "value" : "23.531530523067", "date" : "01/08/13"},
{"key" : "electron transport chain",  "value" : "26.012309659073328", "date" : "01/09/13"},
{"key" : "pyridoxal phosphate binding", "value" : "20.478608574379304", "date" : "01/08/13"},
{"key" : "pyridoxal phosphate binding", "value" : "21.892999751614667", "date" : "01/09/13"},
{"key" : "carbohydrate binding",  "value" : "20.951260192791928", "date" : "01/08/13"},
{"key" : "carbohydrate binding",  "value" : "19.247330828072133", "date" : "01/09/13"},
{"key" : "fructose 1,6-bisphosphate metabolic process", "value" : "22.302648992205683", "date" : "01/08/13"},
{"key" : "fructose 1,6-bisphosphate metabolic process", "value" : "25.186702131896816", "date" : "01/09/13"},
{"key" : "precorrin-2 C20-methyltransferase activity",  "value" : "20.196704825525803", "date" : "01/08/13"},
{"key" : "precorrin-2 C20-methyltransferase activity",  "value" : "21.33060829149681", "date" : "01/09/13"},
{"key" : "thiamine pyrophosphate binding",  "value" : "20.43700134043665", "date" : "01/08/13"},
{"key" : "thiamine pyrophosphate binding",  "value" : "25.069315910217533", "date" : "01/09/13"},
{"key" : "cell division site",  "value" : "20.348902386048607", "date" : "01/08/13"},
{"key" : "cell division site",  "value" : "22.611407262380947", "date" : "01/09/13"},
{"key" : "ribonucleoside binding",  "value" : "18.84429699228148", "date" : "01/08/13"},
{"key" : "ribonucleoside binding",  "value" : "19.57938880844521", "date" : "01/09/13"},
{"key" : "glycopeptide alpha-N-acetylgalactosaminidase activity", "value" : "20.951260192791928", "date" : "01/08/13"},
{"key" : "glycopeptide alpha-N-acetylgalactosaminidase activity", "value" : "19.247330828072133", "date" : "01/09/13"},
{"key" : "glycerol-3-phosphate dehydrogenase [NAD(P)+] activity", "value" : "17.05290987364265", "date" : "01/08/13"},
{"key" : "glycerol-3-phosphate dehydrogenase [NAD(P)+] activity", "value" : "19.237111831698392", "date" : "01/09/13"},
{"key" : "protein refolding", "value" : "22.04637247186227", "date" : "01/08/13"},
{"key" : "protein refolding", "value" : "24.128255854083246", "date" : "01/09/13"},
{"key" : "FtsZ-dependent cytokinesis",  "value" : "20.348902386048607", "date" : "01/08/13"},
{"key" : "FtsZ-dependent cytokinesis",  "value" : "22.611407262380947", "date" : "01/09/13"},
{"key" : "ATP-binding cassette (ABC) transporter complex",  "value" : "20.607617540065853", "date" : "01/08/13"},
{"key" : "ATP-binding cassette (ABC) transporter complex",  "value" : "21.90965347139696", "date" : "01/09/13"},
{"key" : "tripeptide aminopeptidase activity",  "value" : "17.80553171319834", "date" : "01/08/13"},
{"key" : "tripeptide aminopeptidase activity",  "value" : "20.46941056221171", "date" : "01/09/13"},
{"key" : "cell redox homeostasis",  "value" : "19.18951769695088", "date" : "01/08/13"},
{"key" : "cell redox homeostasis",  "value" : "23.47451475859426", "date" : "01/09/13"},
{"key" : "cell redox homeostasis",  "value" : "21.52493402864501", "date" : "01/08/13"},
{"key" : "cell redox homeostasis",  "value" : "22.730767981071146", "date" : "01/09/13"},
{"key" : "cell redox homeostasis",  "value" : "20.341850141830033", "date" : "01/08/13"},
{"key" : "cell redox homeostasis",  "value" : "18.845174114532824", "date" : "01/09/13"},
{"key" : "metal ion binding", "value" : "21.80438180582257", "date" : "01/08/13"},
{"key" : "metal ion binding", "value" : "24.077102266507072", "date" : "01/09/13"},
{"key" : "metal ion binding", "value" : "22.974397513938197", "date" : "01/08/13"},
{"key" : "metal ion binding", "value" : "24.49197853719452", "date" : "01/09/13"},
{"key" : "metal ion binding", "value" : "20.208020938225516", "date" : "01/08/13"},
{"key" : "metal ion binding", "value" : "19.071312890351933", "date" : "01/09/13"},
{"key" : "proton-transporting ATP synthase activity, rotational mechanism", "value" : "18.456700389146253", "date" : "01/08/13"},
{"key" : "proton-transporting ATP synthase activity, rotational mechanism", "value" : "22.101640215302282", "date" : "01/09/13"},
{"key" : "protein dimerization activity", "value" : "19.163378447486433", "date" : "01/08/13"},
{"key" : "protein dimerization activity", "value" : "21.237727395733394", "date" : "01/09/13"},
{"key" : "protein dimerization activity", "value" : "20.574683396922566", "date" : "01/08/13"},
{"key" : "protein dimerization activity", "value" : "22.589299997608137", "date" : "01/09/13"},
{"key" : "fructose-6-phosphate phosphoketolase activity", "value" : "20.13708121214621", "date" : "01/08/13"},
{"key" : "fructose-6-phosphate phosphoketolase activity", "value" : "22.211795259705628", "date" : "01/09/13"},
{"key" : "glycerol-3-phosphate dehydrogenase [NAD(P)+] activity", "value" : "17.05290987364265", "date" : "01/08/13"},
{"key" : "glycerol-3-phosphate dehydrogenase [NAD(P)+] activity", "value" : "19.237111831698392", "date" : "01/09/13"},
{"key" : "phosphoketolase activity",  "value" : "20.13708121214621", "date" : "01/08/13"},
{"key" : "phosphoketolase activity",  "value" : "22.211795259705628", "date" : "01/09/13"},
{"key" : "glutaminyl-tRNA synthase (glutamine-hydrolyzing) activity", "value" : "17.57142835452595", "date" : "01/08/13"},
{"key" : "glutaminyl-tRNA synthase (glutamine-hydrolyzing) activity", "value" : "20.510503084597804", "date" : "01/09/13"},
{"key" : "flavin adenine dinucleotide binding", "value" : "19.18951769695088", "date" : "01/08/13"},
{"key" : "flavin adenine dinucleotide binding", "value" : "23.47451475859426", "date" : "01/09/13"},
{"key" : "flavin adenine dinucleotide binding", "value" : "23.419430247874022", "date" : "01/08/13"},
{"key" : "flavin adenine dinucleotide binding", "value" : "25.03420844902495", "date" : "01/09/13"},
{"key" : "flavin adenine dinucleotide binding", "value" : "20.341850141830033", "date" : "01/08/13"},
{"key" : "flavin adenine dinucleotide binding", "value" : "18.845174114532824", "date" : "01/09/13"},
{"key" : "NADP binding",  "value" : "18.925411454853077", "date" : "01/08/13"},
{"key" : "NADP binding",  "value" : "20.65328516182081", "date" : "01/09/13"},
{"key" : "dimethylallyl diphosphate biosynthetic process",  "value" : "21.36579041578918", "date" : "01/08/13"},
{"key" : "dimethylallyl diphosphate biosynthetic process",  "value" : "23.696847303688266", "date" : "01/09/13"},
{"key" : "unfolded protein binding",  "value" : "23.327051472174094", "date" : "01/08/13"},
{"key" : "unfolded protein binding",  "value" : "25.1249355648782", "date" : "01/09/13"},
{"key" : "protein polymerization",  "value" : "20.348902386048607", "date" : "01/08/13"},
{"key" : "protein polymerization",  "value" : "22.611407262380947", "date" : "01/09/13"},
{"key" : "NAD binding", "value" : "17.05290987364265", "date" : "01/08/13"},
{"key" : "NAD binding", "value" : "19.237111831698392", "date" : "01/09/13"},
{"key" : "NAD binding", "value" : "19.706979411978605", "date" : "01/08/13"},
{"key" : "NAD binding", "value" : "20.562693181326484", "date" : "01/09/13"},
{"key" : "cell division", "value" : "20.553952940628005", "date" : "01/08/13"},
{"key" : "cell division", "value" : "22.91728830777946", "date" : "01/09/13"},
{"key" : "cell division", "value" : "20.077387543523184", "date" : "01/08/13"},
{"key" : "cell division", "value" : "22.37669675583723", "date" : "01/09/13"},
{"key" : "cell division", "value" : "20.831340766795684", "date" : "01/08/13"},
{"key" : "cell division", "value" : "18.881664367150822", "date" : "01/09/13"},
{"key" : "iron-sulfur cluster binding", "value" : "19.680495470933174", "date" : "01/08/13"},
{"key" : "iron-sulfur cluster binding", "value" : "21.504145404836148", "date" : "01/09/13"},
{"key" : "4 iron, 4 sulfur cluster binding",  "value" : "19.94592796550995", "date" : "01/08/13"},
{"key" : "4 iron, 4 sulfur cluster binding",  "value" : "22.78891776342752", "date" : "01/09/13"},
{"key" : "4-hydroxy-3-methylbut-2-en-1-yl diphosphate reductase activity",  "value" : "21.36579041578918", "date" : "01/08/13"},
{"key" : "4-hydroxy-3-methylbut-2-en-1-yl diphosphate reductase activity",  "value" : "23.696847303688266", "date" : "01/09/13"},
{"key" : "transmembrane transport", "value" : "20.52416367483313", "date" : "01/08/13"},
{"key" : "transmembrane transport", "value" : "21.72471885232387", "date" : "01/09/13"},
{"key" : "intracellular protein transmembrane transport", "value" : "17.88240884572788", "date" : "01/08/13"},
{"key" : "intracellular protein transmembrane transport", "value" : "20.96164545586843", "date" : "01/09/13"},
{"key" : "cell septum assembly",  "value" : "18.02699150836616", "date" : "01/08/13"},
{"key" : "cell septum assembly",  "value" : "21.073767997126073", "date" : "01/09/13"},
{"key" : "cell septum assembly",  "value" : "20.348902386048607", "date" : "01/08/13"},
{"key" : "cell septum assembly",  "value" : "22.611407262380947", "date" : "01/09/13"},
{"key" : "selenocysteinyl-tRNA(Sec) biosynthetic process",  "value" : "18.75030723155071", "date" : "01/08/13"},
{"key" : "selenocysteinyl-tRNA(Sec) biosynthetic process",  "value" : "20.050963809619844", "date" : "01/09/13"},
{"key" : "proline dipeptidase activity",  "value" : "20.98457269418784", "date" : "01/08/13"},
{"key" : "proline dipeptidase activity",  "value" : "23.56349818912436", "date" : "01/09/13"},
{"key" : "D-glucosamine PTS permease activity", "value" : "19.609288703214613", "date" : "01/08/13"},
{"key" : "D-glucosamine PTS permease activity", "value" : "20.73651434312051", "date" : "01/09/13"},
];

  data.forEach(function(d) {
    d.date = format.parse(d.date);
    d.value = +d.value;
  });

  var layers = stack(nest.entries(data));

  x.domain(d3.extent(data, function(d) { return d.date; }));
  y.domain([0, d3.max(data, function(d) { return d.y0 + d.y; })]);

  svg.selectAll(".layer")
      .data(layers)
    .enter().append("path")
      .attr("class", "layer")
      .attr("d", function(d) { return area(d.values); })
      .style("fill", function(d, i) { return z(i); });


  svg.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg.append("g")
      .attr("class", "y axis")
      .attr("transform", "translate(" + width + ", 0)")
      .call(yAxis.orient("right"));

  svg.append("g")
      .attr("class", "y axis")
      .call(yAxis.orient("left"));

  svg.selectAll(".layer")
    .attr("opacity", 1)
    .on("mouseover", function(d, i) {
      svg.selectAll(".layer").transition()
      .duration(250)
      .attr("opacity", function(d, j) {
        return j != i ? 0.6 : 1;
    })})

    .on("mousemove", function(d, i) {
      mousex = d3.mouse(this);
      mousex = mousex[0];
      var invertedx = x.invert(mousex);
      invertedx = invertedx.getMonth() + invertedx.getDate();
      var selected = (d.values);
      for (var k = 0; k < selected.length; k++) {
        datearray[k] = selected[k].date
        datearray[k] = datearray[k].getMonth() + datearray[k].getDate();
      }

      mousedate = datearray.indexOf(invertedx);
      pro = d.values[mousedate].value;

      d3.select(this)
      .classed("hover", true)
      .attr("stroke", strokecolor)
      .attr("stroke-width", "0.5px"), 
      tooltip.html( "<p>" + d.key + "<br>" + pro + "</p>" ).style("visibility", "visible");
      
    })
    .on("mouseout", function(d, i) {
     svg.selectAll(".layer")
      .transition()
      .duration(250)
      .attr("opacity", "1");
      d3.select(this)
      .classed("hover", false)
      .attr("stroke-width", "0px"), tooltip.html( "<p>" + d.key + "<br>" + pro + "</p>" ).style("visibility", "hidden");
  })
    
  var vertical = d3.select(".chart")
        .append("div")
        .attr("class", "remove")
        .style("position", "absolute")
        .style("z-index", "19")
        .style("width", "1px")
        .style("height", "380px")
        .style("top", "10px")
        .style("bottom", "30px")
        .style("left", "0px")
        .style("background", "#fff");

  d3.select(".chart")
      .on("mousemove", function(){  
         mousex = d3.mouse(this);
         mousex = mousex[0] + 5;
         vertical.style("left", mousex + "px" )})
      .on("mouseover", function(){  
         mousex = d3.mouse(this);
         mousex = mousex[0] + 5;
         vertical.style("left", mousex + "px")});
});
}
</script>